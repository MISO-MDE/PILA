<?xml version="1.0" encoding="UTF-8"?>
<PagosPim:Application
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:PagosPim="http://www.uniandes.edu.co/PagosPim"
    name="PilaProcessor">
  <logicalComponents
      name="Intermediary">
    <attributes
        name="name"/>
    <relations
        type="COMPOSITION"
        targetComponent="//@logicalComponents.1"
        name="pagadoras"/>
  </logicalComponents>
  <logicalComponents
      name="Pagadora">
    <attributes
        name="id"/>
    <attributes
        name="name"/>
    <attributes
        name="NIT"/>
    <relations
        type="COMPOSITION"
        targetComponent="//@logicalComponents.2"
        name="pensionados"/>
    <relations
        type="COMPOSITION"
        targetComponent="//@logicalComponents.3"
        name="pagos"/>
  </logicalComponents>
  <logicalComponents
      name="Pensionado">
    <attributes
        name="id"/>
    <attributes
        name="name"/>
    <attributes
        name="sueldo"/>
    <relations
        type="REFERENCE"
        targetComponent="//@logicalComponents.3"
        name="pagos"/>
  </logicalComponents>
  <logicalComponents
      name="Pago">
    <attributes
        name="id"/>
    <attributes
        name="fecha"/>
    <operations
        name=""/>
  </logicalComponents>
  <logicalComponents
      name="CalculoPago">
    <attributes
        name="diasHabiles">
      <expression
          xsi:type="PagosPim:Mult">
        <rigthtExp
            xsi:type="PagosPim:TerminalValue"
            value="1"/>
        <leftExp
            xsi:type="PagosPim:TerminalValue"
            value="1"/>
      </expression>
    </attributes>
    <operations
        name="getEPS">
      <parameterList>
        <parameters
            name="Pensionado"
            type="INTEGER"
            complexType="//@logicalComponents.2"/>
        <parameters
            name="TipoCalculo"
            type="INTEGER"/>
      </parameterList>
      <body>
        <ifblock>
          <ifcondition>
            <logicalexpressions
                literal="">
              <leftTerm
                  attribute="//@logicalComponents.0/@attributes.0"
                  value=""/>
              <rightTerm
                  value="11"/>
            </logicalexpressions>
            <innerIf>
              <ifcondition>
                <logicalexpressions/>
              </ifcondition>
            </innerIf>
          </ifcondition>
          <elsesegment>
            <innerIfBlocks>
              <ifcondition>
                <logicalexpressions/>
                <return>
                  <expression
                      xsi:type="PagosPim:Mult"/>
                </return>
              </ifcondition>
            </innerIfBlocks>
          </elsesegment>
        </ifblock>
      </body>
    </operations>
  </logicalComponents>
  <serverservice
      name="Intermediary">
    <attributes/>
    <operations
        name="ObtenerIntermediary">
      <parameterList>
        <parameters
            name="JSON"/>
      </parameterList>
    </operations>
  </serverservice>
</PagosPim:Application>
